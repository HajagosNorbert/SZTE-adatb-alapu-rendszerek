1. Listázza, hogy melyik kurzust, hányan vették fel, illetve hogy mennyi a max létszám


select kurzus.nev, count(kurzus.nev) AS "letszam", kurzus.max_letszam
from kurzus inner join feliratkozas on kurzus.kod = feliratkozas.kurzus_kod inner join felhasznalo on feliratkozas.hallgato_kod = felhasznalo.kod
group by kurzus.nev,kurzus.max_letszam


2. Legújabb hirdetmény

select tartalom from hirdetmeny where megiras_ideje in (select MAX(megiras_ideje) from hirdetmeny)


3. Legújabb fórum bejegyzés

select tartalom from bejegyzes where megiras_ideje in (select MAX(megiras_ideje) from bejegyzes)


4. Legújabb dokumentum

select nev from tananyag where feltoltes_datum in (select MAX(feltoltes_datum) from tananyag)

5. Legfrissebb bejelentkezés

select felhasznalo_kod from log where bejelentkezesi_ido in (select MAX(bejelentkezesi_ido) from log)


6. Melyik vizsga melyik teremben lesz, illetve abban a teremben az adott kurzusból hány vizsga lesz

select kurzus.nev, terem.nev AS "terem", count(terem.nev) AS "Vizsgák száma"
from terem inner join vizsga on vizsga.terem_kod = terem.kod inner join kurzus on vizsga.kurzus_kod = kurzus.kod
group by  terem.nev,kurzus.nev
order by kurzus.nev


7. Az egyes kurzusokból, hány vizsgaalkalom van meghirdetve


select kurzus.nev, count(kurzus.nev) AS "Darab vizsga"
from vizsga inner join kurzus on vizsga.kurzus_kod = kurzus.kod
group by kurzus.nev

8. Kiválasztja azon kurzusadatokat, oktatójának adatait és a kurzus jelenlegi létszámát, melyeknek a felhasználó oktatója, vagy fel van rá íratkozva, mint hallgató.

select kurzus.kod, kurzus.nev, kurzus.max_letszam, count(felhasznalo.kod) AS letszam, f2.kod as oktato_kod, f2.keresztnev as oktato_keresztnev, f2.vezeteknev as oktato_vezeteknev
        from kurzus
        left join feliratkozas on kurzus.kod = feliratkozas.kurzus_kod 
        left join felhasznalo on feliratkozas.hallgato_kod = felhasznalo.kod
        left join felhasznalo f2 on kurzus.oktato_kod = f2.kod
        where kurzus.oktato_kod = :userId or kurzus.kod in (
        SELECT kurzus.kod FROM kurzus INNER JOIN feliratkozas ON kurzus.kod = feliratkozas.kurzus_kod 
                 INNER JOIN hallgato on feliratkozas.hallgato_kod = hallgato.felhasznalo_kod
                 INNER JOIN felhasznalo on hallgato.felhasznalo_kod = felhasznalo.kod
                 WHERE felhasznalo.kod = :userId
        )
        group by kurzus.kod, kurzus.nev,kurzus.max_letszam, f2.kod, f2.keresztnev, f2.vezeteknev;

9. Kiválasztja a kurzusok, oktatójának adatait és a kurzus jelenlegi létszámát

select kurzus.kod, kurzus.nev, kurzus.max_letszam, count(felhasznalo.kod) AS letszam, f2.kod as oktato_kod, f2.keresztnev as oktato_keresztnev, f2.vezeteknev as oktato_vezeteknev
        from kurzus 
        left join feliratkozas on kurzus.kod = feliratkozas.kurzus_kod 
        left join felhasznalo on feliratkozas.hallgato_kod = felhasznalo.kod
        left join felhasznalo f2 on kurzus.oktato_kod = f2.kod
        group by kurzus.kod, kurzus.nev,kurzus.max_letszam, f2.kod, f2.keresztnev, f2.vezeteknev

