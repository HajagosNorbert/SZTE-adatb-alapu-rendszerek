create or replace trigger felhasznalo_torles
before delete on felhasznalo
for each row 
begin
    delete from hallgato where FELHASZNALO_KOD = :old.kod;
    delete from oktato where FELHASZNALO_KOD = :old.kod;
end;
/

//Kurzus törléshez trigger

create or replace trigger delete_courses
before delete on kurzus
for each row
begin

    delete from bejegyzes where kod = :OLD.kod;
    delete from feliratkozas where kurzus_kod = :OLD.kod;
    delete from hirdetmeny where kurzus_kod = :OLD.kod;
    delete from tananyag where kurzus_kod = :OLD.kod;
    delete from vizsga where kurzus_kod = :OLD.kod;

end;
/

create or replace trigger hallgato_torles
before delete on hallgato
for each row 
begin
    delete from feliratkozas where HALLGATO_KOD = :old.FELHASZNALO_KOD;
end;
/

create or replace trigger oktato_torles
before delete on oktato
for each row 
begin
    update kurzus set oktato_kod = NULL where oktato_kod = :old.FELHASZNALO_KOD;
end;
/

create or replace trigger terem_torles
before delete on terem
for each row 
begin
    delete from kurzus where kurzus.terem_kod = :old.kod and kurzus.epulet_kod = :old.epulet_kod;
    delete from vizsga where vizsga.terem_kod = :old.kod and vizsga.epulet_kod = :old.epulet_kod;
end;
/